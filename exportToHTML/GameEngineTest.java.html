<html>
<head>
<title>GameEngineTest.java</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<style type="text/css">
.s0 { color: #b58900;}
.s1 { color: #839496;}
.s2 { color: #cb4b16;}
.s3 { color: #2aa198;}
.s4 { color: #586e75; font-style: italic;}
</style>
</head>
<body bgcolor="#002b36">
<table CELLSPACING=0 CELLPADDING=5 COLS=1 WIDTH="100%" BGCOLOR="#606060" >
<tr><td><center>
<font face="Arial, Helvetica" color="#000000">
GameEngineTest.java</font>
</center></td></tr></table>
<pre><span class="s0">import </span><span class="s1">com.nullPointer.Domain.Model.Cards.CCBeKindRewind;</span>
<span class="s0">import </span><span class="s1">com.nullPointer.Domain.Model.Cards.Card;</span>
<span class="s0">import </span><span class="s1">com.nullPointer.Domain.Model.*;</span>
<span class="s0">import </span><span class="s1">com.nullPointer.Domain.Model.Square.CommunityChestCardSquare;</span>
<span class="s0">import </span><span class="s1">com.nullPointer.Domain.Model.Square.PropertySquare;</span>
<span class="s0">import </span><span class="s1">org.junit.Test;</span>

<span class="s0">import </span><span class="s1">java.util.ArrayList;</span>
<span class="s0">import </span><span class="s1">java.util.LinkedList;</span>
<span class="s0">import </span><span class="s1">java.util.Queue;</span>

<span class="s0">import static </span><span class="s1">org.junit.Assert.assertEquals;</span>
<span class="s0">import static </span><span class="s1">org.junit.Assert.assertTrue;</span>

<span class="s0">public class </span><span class="s1">GameEngineTest {</span>
	Player p1, p2;
	PropertySquare pSq;
	GameEngine gameEngine;
	<span class="s0">int</span><span class="s1">[] rentList = {</span><span class="s2">100</span><span class="s1">, </span><span class="s2">200</span><span class="s1">, </span><span class="s2">300</span><span class="s1">, </span><span class="s2">400</span><span class="s1">, </span><span class="s2">500</span><span class="s1">, </span><span class="s2">600</span><span class="s1">, </span><span class="s2">700</span><span class="s1">, </span><span class="s2">800</span><span class="s1">};</span>

	@org.junit.Before
	<span class="s0">public void </span><span class="s1">setUp() </span><span class="s0">throws </span><span class="s1">Exception {</span>
		gameEngine = GameEngine.getInstance();
		p1 = <span class="s0">new </span><span class="s1">Player(</span><span class="s3">&quot;Player 1&quot;</span><span class="s1">);</span>
		p2 = <span class="s0">new </span><span class="s1">Player(</span><span class="s3">&quot;Player 2&quot;</span><span class="s1">);</span>
		p1.setMoney(<span class="s2">3200</span><span class="s1">);</span>
		p2.setMoney(<span class="s2">3200</span><span class="s1">);</span>
		gameEngine.addPlayer(p1);
		gameEngine.addPlayer(p2);
		pSq = <span class="s0">new </span><span class="s1">PropertySquare(</span><span class="s3">&quot;Test Avenue&quot;</span><span class="s1">, </span><span class="s3">&quot;PropertySquare&quot;</span><span class="s1">,</span><span class="s2">150</span><span class="s1">, </span><span class="s3">&quot;Blue&quot;</span><span class="s1">, rentList);	</span>
		gameEngine.getDomainBoard().getSquareMap().clear();
		gameEngine.getDomainBoard().getSquareMap().put(<span class="s2">0</span><span class="s1">, pSq);</span>
		<span class="s4">//System.out.println(&quot;Test Board 0 indexed Sqaure &quot;+gameEngine.getDomainBoard().getSquareAt(0).getName());</span>
	<span class="s1">}</span>

	@Test
	<span class="s0">public void </span><span class="s1">testRollDice() {</span>
		RegularDie die = GameEngine.getInstance().getRegularDie();
		SpeedDie speeddie = GameEngine.getInstance().getSpeedDie();
		<span class="s0">for</span><span class="s1">(</span><span class="s0">int </span><span class="s1">i=</span><span class="s2">0</span><span class="s1">;i&lt;</span><span class="s2">100</span><span class="s1">;i++){</span>
			die.roll(<span class="s2">2</span><span class="s1">);</span>
			speeddie.roll(<span class="s2">1</span><span class="s1">);</span>
			ArrayList&lt;Integer&gt; list = <span class="s0">new </span><span class="s1">ArrayList&lt;Integer&gt;(</span><span class="s2">3</span><span class="s1">);</span>
			list.add(die.getLastValues().get(<span class="s2">0</span><span class="s1">));</span>
			list.add(die.getLastValues().get(<span class="s2">1</span><span class="s1">));</span>
			list.add(speeddie.getLastValues().get(<span class="s2">0</span><span class="s1">));</span>
			assertTrue(list.get(<span class="s2">0</span><span class="s1">)&lt;=</span><span class="s2">6 </span><span class="s1">&amp;&amp; list.get(</span><span class="s2">0</span><span class="s1">)&gt;=</span><span class="s2">1</span><span class="s1">);</span>
			assertTrue(list.get(<span class="s2">1</span><span class="s1">)&lt;=</span><span class="s2">6 </span><span class="s1">&amp;&amp; list.get(</span><span class="s2">1</span><span class="s1">)&gt;=</span><span class="s2">1</span><span class="s1">);</span>
			assertTrue(list.get(<span class="s2">2</span><span class="s1">)&lt;=</span><span class="s2">6 </span><span class="s1">&amp;&amp; list.get(</span><span class="s2">2</span><span class="s1">)&gt;=</span><span class="s2">1</span><span class="s1">);</span>
		}
	}

	@Test
	<span class="s0">public void </span><span class="s1">testCalculateMoveAmount() {</span>
		RegularDie die = GameEngine.getInstance().getRegularDie();
		die.getLastValues().add(<span class="s2">3</span><span class="s1">);</span>
		die.getLastValues().add(<span class="s2">2</span><span class="s1">);</span>
		assertEquals(<span class="s2">5</span><span class="s1">, GameEngine.getInstance().calculateMoveAmount());</span>

	}

	@Test
	<span class="s0">public void </span><span class="s1">testDrawCommunityChestCard() {</span>

		Player currentPlayer = <span class="s0">new </span><span class="s1">Player(</span><span class="s3">&quot;Tumay&quot;</span><span class="s1">);</span>
		DomainBoard b = <span class="s0">new </span><span class="s1">DomainBoard();</span>
		Queue&lt;Card&gt; queue = <span class="s0">new </span><span class="s1">LinkedList&lt;Card&gt;();</span>
		b.setCCCards(queue);
		CommunityChestCardSquare square = <span class="s0">new </span><span class="s1">CommunityChestCardSquare(</span><span class="s3">&quot;CommunityChestCardSquare&quot;</span><span class="s1">,</span><span class="s3">&quot;CommunityChestCardSquare&quot;</span><span class="s1">);</span>
		Card card = <span class="s0">new </span><span class="s1">CCBeKindRewind(</span><span class="s3">&quot;Be Kind, Rewind&quot;</span><span class="s1">, </span><span class="s0">true</span><span class="s1">);</span>
		b.getCCCards().add(card);
		String type = square.getType();
		Card card2;

		<span class="s0">if </span><span class="s1">(type.equals(</span><span class="s3">&quot;CommunityChestCardSquare&quot;</span><span class="s1">)) {</span>
			<span class="s0">if </span><span class="s1">(type.equals(</span><span class="s3">&quot;CommunityChestCardSquare&quot;</span><span class="s1">)) {</span>
				card2 = b.getCCCards().element();
				assertTrue(card2.getClass().getName().contains(<span class="s3">&quot;com.nullPointer.Domain.Model.Cards.CC&quot;</span><span class="s1">));</span>
			} 
		}
	}

	@Test
	<span class="s0">public void </span><span class="s1">testBuyAnUnownedProperty() {</span>
		<span class="s4">//setting p1 as the current player</span>
		<span class="s1">gameEngine.getPlayerController().setCurrentPlayerIndex(</span><span class="s2">0</span><span class="s1">);</span>
		p1.setTargetPosition(<span class="s2">0</span><span class="s1">);</span>
		gameEngine.buy();
		assertEquals(pSq, p1.getPropertySquares().get(<span class="s2">0</span><span class="s1">));</span>
		assertEquals(<span class="s2">3050</span><span class="s1">,p1.getMoney());</span>
	}
	@Test
	<span class="s0">public void </span><span class="s1">testPayRent() {</span>
		p1.addSquare(pSq);
		p1.setMoney(<span class="s2">3050</span><span class="s1">);</span>
		pSq.setOwner(p1);
		
		gameEngine.getPlayerController().setCurrentPlayerIndex(<span class="s2">1</span><span class="s1">);</span>
		p2.setTargetPosition(<span class="s2">0</span><span class="s1">);</span>
		gameEngine.payRent(p2, p1, <span class="s2">100</span><span class="s1">);</span>
		assertEquals(<span class="s2">3100</span><span class="s1">,p2.getMoney());</span>
		assertEquals(<span class="s2">3150</span><span class="s1">, p1.getMoney());</span>
	}

	@Test
	<span class="s0">public void </span><span class="s1">repOkCorrect() {</span>
		gameEngine.repOk();
	}

}</pre>
</body>
</html>